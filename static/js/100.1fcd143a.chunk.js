"use strict";(self.webpackChunkmy_social_network_app_ts=self.webpackChunkmy_social_network_app_ts||[]).push([[100],{9100:function(s,e,n){n.r(e),n.d(e,{default:function(){return A}});var i=n(2791),t={},o="MyPosts_myPots__a1HUq",r="Post_post__Xh0et",l=n(184);function c(s){return(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)("img",{src:"https://avatarko.ru/img/kartinka/33/Deadpool_34458.jpg"}),s.message," ",(0,l.jsxs)("div",{children:["like: ",s.likesCount]})]})}var a=n(2457),u=n(364),d=n(6139),f=n(704),x=n(3079),j=n(3656),h=(0,x.D)(10);var m=(0,f.Z)({form:"PostAddForm"})((function(s){return(0,l.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,l.jsx)(d.Z,{name:"newPostText",component:j.gx,placeholder:"Post message",validate:[x.C,h]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Add post"})})]})})),p=i.memo((function(s){var e=(0,u.I0)(),n=s.posts.map((function(s){return(0,l.jsx)(c,{id:s.id,message:s.message,likesCount:s.likesCount},s.id)}));return(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)("h2",{children:"My posts"}),(0,l.jsx)(m,{onSubmit:function(s){e((0,a.Pi)(s.newPostText))}}),n]})})),v=n(885),b="ProfileInfo_profileInfoBlock__79Bqd",k="ProfileInfo_profilePhoto__S0b8Y",g=n(3544),_={};function C(s){var e=(0,u.I0)(),n=(0,i.useState)(!1),t=(0,v.Z)(n,2),o=t[0],r=t[1],c=(0,i.useState)(s.status),d=(0,v.Z)(c,2),f=d[0],x=d[1];(0,i.useEffect)((function(){x(s.status)}),[s.status]);return(0,l.jsxs)("div",{className:_.profileStatusBlock,children:[!o&&(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Status"}),": ",(0,l.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status})]}),o&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:function(s){x(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e((0,a.Nf)(f))},value:f})})]})}var I=n(1455),P={},y=function(s){var e=s.profile,n=s.isOwner,i=s.goToEditMode,t=function(s){var e=s.contactTitle,n=s.contactValues;return(0,l.jsxs)("div",{className:P.contact,children:[(0,l.jsx)("b",{children:e}),": ",n]})};return(0,l.jsxs)("div",{children:[n&&(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:i,children:"edit"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Full name"}),": ",e.fullName]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"lookingForAJob"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My Professional skills"}),": ",e.lookingForAJobDescription]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(s){return(0,l.jsx)(t,{contactTitle:s,contactValues:e.contacts[s]},s)}))]})]})},S=n(6590),F=(0,f.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,n=s.profile,i=s.error;return(0,l.jsxs)("form",{onSubmit:e,children:[(0,l.jsx)("button",{children:"save"}),i&&(0,l.jsx)("div",{className:S.Z.formSummaryError,children:(0,l.jsx)("span",{children:i})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Full name"}),": ",(0,j.Gr)("Full name","fullName",[x.C],j.II)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Looking for a job"}),": ",(0,j.Gr)("Full name","lookingForAJob",[x.C],j.II,{type:"checkbox"},"remember me")]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My Professional skills"}),": ",(0,j.Gr)("My Professional skills","lookingForAJobDescription",[x.C],j.gx)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Contacts"}),": ",Object.keys(n.contacts).map((function(s){return(0,l.jsx)("div",{children:(0,l.jsxs)("b",{children:[s,": ",(0,j.Gr)(s,"contacts."+s,[],j.II)]})},s)}))]})]})}));function w(s){var e=(0,i.useState)(!1),n=(0,v.Z)(e,2),t=n[0],o=n[1],r=(0,u.I0)();if(!s.profile)return(0,l.jsx)(g.p,{});return(0,l.jsxs)("div",{className:b,children:[(0,l.jsx)("div",{className:k,children:(0,l.jsx)("img",{src:s.profile.photos.large||I})}),s.isOwner&&(0,l.jsx)("input",{type:"file",onChange:function(s){var e;null!==(e=s.target.files)&&void 0!==e&&e.length&&r((0,a.Ju)(s.target.files[0]))}}),t?(0,l.jsx)(F,{onSubmit:function(s){r((0,a.Ii)(s)),o(!1)},initialValues:s.profile,profile:s.profile}):(0,l.jsx)(y,{profile:s.profile,isOwner:s.isOwner,goToEditMode:function(){o(!0)}}),(0,l.jsx)(C,{status:s.status})]})}var N=n(6871);var A=function(){var s=(0,u.I0)(),e=(0,N.UO)().userId,n=(0,u.v9)((function(s){return s.profilePage}));return(0,i.useEffect)((function(){s((0,a.et)(e))}),[]),(0,i.useEffect)((function(){s((0,a.lR)(e))}),[]),(0,l.jsxs)("div",{className:t.profileBlock,children:[(0,l.jsx)(w,{profile:n.profile,status:n.status,isOwner:!!e}),(0,l.jsx)(p,{posts:n.posts})]})}}}]);
//# sourceMappingURL=100.1fcd143a.chunk.js.map